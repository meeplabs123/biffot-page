<!DOCTYPE html>
<html>
	<head>
		<title>Login</title>
		<style>
			* {
				background-color: #333;
				color: #ccc;
			}
		</style>
	</head>
	<body>
			<!--script-goes-here-->

			<script>
				function getQueryVariable(variable) {
					var query = window.location.search.substring(1);
					var vars = query.split("&");
					for (var i=0;i<vars.length;i++) {
							var pair = vars[i].split("=");
							if(pair[0] == variable){return pair[1];}
					}
					return(false);
				}

				window.onload = () => {
					const fragment = new URLSearchParams(window.location.hash.slice(1));
					const [accessToken, tokenType] = [fragment.get('access_token'), fragment.get('token_type')];
					
					
					if(!getQueryVariable('action')) {
						if (accessToken) {
							window.location = window.location.href.split('#')[0] + '?action=[data]' + btoa(window.location.hash.slice(1));
						}
						if(!accessToken) {
							window.location = window.location.href.split('#')[0] + '?action=[auth]';
						}
					}
				}
			</script>

			<!--content-goes-here-->
	</body>
</html>